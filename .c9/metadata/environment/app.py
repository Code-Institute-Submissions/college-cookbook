{"filter":false,"title":"app.py","tooltip":"/app.py","undoManager":{"mark":11,"position":11,"stack":[[{"start":{"row":102,"column":0},"end":{"row":135,"column":4},"action":"remove","lines":["def get_recipes(offset=0, per_page=3):","\trecipes = mongo.db.recipes.find()","\tprint (\"herl\")","\treturn recipes[offset:offset + per_page]","\t","@app.route('get_recipes')","def showRecipes():","\tpage, per_page, offset = get_page_args(page_parameter='page', per_page_parameter='per_page')","\ttotal = mong.db.recipes.find()","","","\tdef get_recipes(offset=0, per_page=3):","\t  recipes = mongo.db.recipes.find()","\tprint(\"herl\")","\treturn recipes[offset: offset + per_page]","@app.route('/get_recipes')","\t","def showRecipes():","    page, per_page, offset = get_page_args(page_parameter='page',","\tper_page_parameter='per_page'),","total = mongo.db.recipes.find().count()","paginatedRecipes = get_recipes(offset=offset, per_page=per_page)","pagination = Pagination(page=page, per_page=per_page, total=total,","\t             css_framework='bootstrap4')",""," ","return render_template('recipes.html',","\t\t   recipes=paginatedRecipes,","           page=page,","           per_page=per_page,","           pagination=pagination,","                                 )","","    "],"id":2292},{"start":{"row":102,"column":0},"end":{"row":127,"column":45},"action":"insert","lines":["@app.route('/', defaults = {'page_no': 0})","@app.route('/get_recipes/<page_no>', defaults = {'page_no': 0} )","def get_recipes(page_no):","\tpagination_object = None","\trecipe = mongo.db.recipes","\toffset = page_no","\tlimit = 2","\tstarting_id = recipe.find().sort('_id', pymongo.ASCENDING)","\tlast_id = starting_id[offset]['_id']","\trecipe = recipe.find({'_id' : {'$gte' : last_id}}).sort('_id', pymongo.ASCENDING).limit(limit)","\toutput = []","\tfor i in recipe:","\t\tprint(i)","\t\toutput.append(i)","\tnext_url = '/recipe?limit=' + str(limit) + '&offset=' + str(offset + limit)","\tprev_url = '/recipe?limit=' + str(limit) + '&offset=' + str(offset - limit)","\tpagination_object = ({'result' : output, 'prev_url' : prev_url, 'next_url': next_url})","\tif 'user' in session:","\t\treturn render_template(\"recipes.html\", ","\t\t\t\t\t\t\t   pagination_object=pagination_object,","\t\t\t\t\t\t\t   recipes=mongo.db.recipes.find(),","\t\t\t\t\t\t\t   user = session['user'])","\telse:\t","\t\treturn render_template(\"recipes.html\",","\t\t\t\t\t\t\t   pagination_object=pagination_object,","\t\t\t\t\t\t\t   recipes=mongo.db.recipes.find())   "]}],[{"start":{"row":194,"column":91},"end":{"row":195,"column":0},"action":"insert","lines":["",""],"id":2293},{"start":{"row":195,"column":0},"end":{"row":195,"column":8},"action":"insert","lines":["        "]},{"start":{"row":195,"column":8},"end":{"row":196,"column":0},"action":"insert","lines":["",""]},{"start":{"row":196,"column":0},"end":{"row":196,"column":8},"action":"insert","lines":["        "]},{"start":{"row":196,"column":8},"end":{"row":197,"column":0},"action":"insert","lines":["",""]},{"start":{"row":197,"column":0},"end":{"row":197,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":197,"column":7},"end":{"row":197,"column":8},"action":"remove","lines":[" "],"id":2294},{"start":{"row":197,"column":6},"end":{"row":197,"column":7},"action":"remove","lines":[" "]},{"start":{"row":197,"column":5},"end":{"row":197,"column":6},"action":"remove","lines":[" "]},{"start":{"row":197,"column":4},"end":{"row":197,"column":5},"action":"remove","lines":[" "]},{"start":{"row":197,"column":3},"end":{"row":197,"column":4},"action":"remove","lines":[" "]},{"start":{"row":197,"column":2},"end":{"row":197,"column":3},"action":"remove","lines":[" "]},{"start":{"row":197,"column":1},"end":{"row":197,"column":2},"action":"remove","lines":[" "]},{"start":{"row":197,"column":0},"end":{"row":197,"column":1},"action":"remove","lines":[" "]}],[{"start":{"row":197,"column":0},"end":{"row":201,"column":58},"action":"insert","lines":["@app.route('/search')","def search():","    query = request.args.get(\"q\")","    results = mongo.db.mongoTestingDataBase.find({\"testname\" : {\"$regex\": query}})","    return render_template(\"search.html\", results=results)"],"id":2295}],[{"start":{"row":200,"column":4},"end":{"row":201,"column":58},"action":"remove","lines":["results = mongo.db.mongoTestingDataBase.find({\"testname\" : {\"$regex\": query}})","    return render_template(\"search.html\", results=results)"],"id":2296},{"start":{"row":200,"column":4},"end":{"row":201,"column":0},"action":"insert","lines":["",""]},{"start":{"row":201,"column":0},"end":{"row":201,"column":4},"action":"insert","lines":["    "]},{"start":{"row":201,"column":4},"end":{"row":201,"column":5},"action":"insert","lines":["p"]}],[{"start":{"row":201,"column":5},"end":{"row":201,"column":6},"action":"insert","lines":["r"],"id":2297},{"start":{"row":201,"column":6},"end":{"row":201,"column":7},"action":"insert","lines":["i"]},{"start":{"row":201,"column":7},"end":{"row":201,"column":8},"action":"insert","lines":["n"]},{"start":{"row":201,"column":8},"end":{"row":201,"column":9},"action":"insert","lines":["t"]}],[{"start":{"row":201,"column":9},"end":{"row":201,"column":11},"action":"insert","lines":["()"],"id":2298}],[{"start":{"row":201,"column":10},"end":{"row":201,"column":11},"action":"insert","lines":["q"],"id":2299},{"start":{"row":201,"column":11},"end":{"row":201,"column":12},"action":"insert","lines":["u"]},{"start":{"row":201,"column":12},"end":{"row":201,"column":13},"action":"insert","lines":["e"]},{"start":{"row":201,"column":13},"end":{"row":201,"column":14},"action":"insert","lines":["r"]},{"start":{"row":201,"column":14},"end":{"row":201,"column":15},"action":"insert","lines":["y"]}],[{"start":{"row":108,"column":9},"end":{"row":108,"column":10},"action":"remove","lines":["2"],"id":2300}],[{"start":{"row":108,"column":9},"end":{"row":108,"column":10},"action":"insert","lines":["3"],"id":2301}],[{"start":{"row":108,"column":9},"end":{"row":108,"column":10},"action":"remove","lines":["3"],"id":2302}],[{"start":{"row":108,"column":9},"end":{"row":108,"column":10},"action":"insert","lines":["1"],"id":2303}]]},"ace":{"folds":[],"scrolltop":2057,"scrollleft":0,"selection":{"start":{"row":108,"column":10},"end":{"row":108,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":136,"state":"start","mode":"ace/mode/python"}},"timestamp":1588705463379,"hash":"744dc32ece2b451cb75d07ac09df31a75672711b"}